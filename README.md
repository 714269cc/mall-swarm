# mall-swarm

<p>
  <a href="#the public"><img src="http://macro-oss.oss-cn-shenzhen.aliyuncs.com/mall/badge/%E5%85%AC%E4%BC%97%E5%8F%B7-macrozheng-blue.svg" alt="the public"></a>
  <a href="https://github.com/macrozheng/mall"><img src="http://macro-oss.oss-cn-shenzhen.aliyuncs.com/mall/badge/%E5%90%8E%E5%8F%B0%E9%A1%B9%E7%9B%AE-mall-blue.svg" alt="Background project"></a>
  <a href="https://github.com/macrozheng/mall-admin-web"><img src="http://macro-oss.oss-cn-shenzhen.aliyuncs.com/mall/badge/%E5%89%8D%E7%AB%AF%E9%A1%B9%E7%9B%AE-mall--admin--web-green.svg" alt="Front-end project"></a>
  <a href="#the public"><img src="http://macro-oss.oss-cn-shenzhen.aliyuncs.com/mall/badge/%E4%BA%A4%E6%B5%81-%E5%BE%AE%E4%BF%A1%E7%BE%A4-2BA245.svg" alt="communicate with"></a>
  <a href="https://gitee.com/macrozheng/mall-swarm"><img src="http://macro-oss.oss-cn-shenzhen.aliyuncs.com/mall/badge/%E7%A0%81%E4%BA%91-%E9%A1%B9%E7%9B%AE%E5%9C%B0%E5%9D%80-orange.svg" alt="Code cloud"></a>
</p>

## Project Introduction

`mall-swarm`Is a micro service mall system，Adopted Spring Cloud Greenwich、Spring Boot 2、MyBatis、Docker、Elasticsearch and other core technologies, while providing a Vue-based management background to facilitate the rapid construction of the system. `mall-swarm` integrates system functions such as registration center, configuration center, monitoring center, and gateway on the basis of e-commerce business. Complete documentation with a complete set of Spring Cloud tutorials.

## System architecture diagram

![System architecture diagram](document/resource/mall_micro_service_arch.png)

## Organizational structure

``` lua
mall
├── mall-common -- Tools and common code modules
├── mall-mbg -- Database operation code module generated by MyBatisGenerator
├── mall-security -- Encapsulating SpringSecurity+JWT Security Certified Module
├── mall-registry -- Eureka-based microservices registry
├── mall-config -- Microservice Configuration Center Based on Spring Cloud Config
├── mall-gateway -- Microservice Cloud API Gateway Service Based on Spring Cloud Gateway
├── mall-monitor -- Microservice monitoring center based on Spring Boot Admin
├── mall-admin -- back-end management system services
├── mall-search -- Product search system service based on Elasticsearch
├── mall-portal -- Mobile terminal mall system services
└── mall-demo -- Microservice remote call test service
```

## Project documentation

- Project documentation`mall`Tutorials：[http://www.macrozheng.com](https://macrozheng.github.io/mall-learning)
- Supporting`Spring Cloud`Tutorials：[https://github.com/macrozheng/springcloud-learning](https://github.com/macrozheng/springcloud-learning)

## Project demo

- Background management system： [http://www.macrozheng.com/admin/index.html](http://www.macrozheng.com/admin/index.html)  
- Mobile terminal mall system：[http://www.macrozheng.com/app/index.html](http://www.macrozheng.com/app/index.html)

## Technology selection

### Back-end technology

| technology             | Description                 | Official website                                                 |
| ---------------- | -------------------- | ---------------------------------------------------- |
| Spring Cloud     | Microservices framework           | https://spring.io/projects/spring-cloud              |
| Spring Boot      | Container + MVC framework         | https://spring.io/projects/spring-boot               |
| Spring Security  | Authentication and authorization framework       | https://spring.io/projects/spring-security           |
| MyBatis          | ORM framework              | http://www.mybatis.org/mybatis-3/zh/index.html       |
| MyBatisGenerator | Data layer code generation       | http://www.mybatis.org/generator/index.html          |
| PageHelper       | MyBatis physical paging plugin  | http://git.oschina.net/free/Mybatis_PageHelper       |
| Swagger-UI       | Document production tools         | https://github.com/swagger-api/swagger-ui            |
| Elasticsearch    | search engine             | https://github.com/elastic/elasticsearch             |
| RabbitMq         | message queue             | https://www.rabbitmq.com/                            |
| Redis            | Distributed cache           | https://redis.io/                                    |
| MongoDb          | NoSql database          | https://www.mongodb.com/                             |
| Docker           | Application container engine         | https://www.docker.com/                              |
| Druid            | Database connection pool         | https://github.com/alibaba/druid                     |
| OSS              | Object store             | https://github.com/aliyun/aliyun-oss-java-sdk        |
| MinIO            | Object store             | https://github.com/minio/minio                       |
| JWT              | JWT login support          | https://github.com/jwtk/jjwt                         |
| LogStash         | Log collection             | https://github.com/logstash/logstash-logback-encoder |
| Lombok           | Simplified Object Packaging Tool     | https://github.com/rzwitserloot/lombok               |
| Seata            | Global transaction management framework     | https://github.com/seata/seata                       |
| Portainer        | Visual Docker container management | https://github.com/portainer/portainer               |
| Jenkins          | 自动化部署工具       | https://github.com/jenkinsci/jenkins                 |

### Front-end technology

| technology       | Description                  | Official website                           |
| ---------- | --------------------- | ------------------------------ |
| Vue        | Front-end framework              | https://vuejs.org/             |
| Vue-router | Routing framework              | https://router.vuejs.org/      |
| Vuex       | Global State Management Framework      | https://vuex.vuejs.org/        |
| Element    | Front-end UI framework            | https://element.eleme.io/      |
| Axios      | Front-end HTTP framework          | https://github.com/axios/axios |
| v-charts   | Charting framework based on Echarts | https://v-charts.js.org/       |


## Environment setup

### Development environment

tool | version number | download
----|----|----
JDK | 1.8 | https://www.oracle.com/technetwork/java/javase/downloads/jdk8-downloads-2133151.html
Mysql | 5.7 | https://www.mysql.com/
Redis | 3.2 | https://redis.io/download
Elasticsearch | 6.2.2 | https://www.elastic.co/downloads
MongoDb | 3.2 | https://www.mongodb.com/download-center
RabbitMq | 3.7.14 | http://www.rabbitmq.com/download.html
Nginx | 1.10 | http://nginx.org/en/download.html

### Build steps

> Windows environment deployment

- Windows环境搭建请参考：[mall-swarm在Windows环境下的部署](http://www.macrozheng.com/#/deploy/mall_swarm_deploy_windows);
- `mall-admin-web`项目的安装及部署请参考：[mall前端项目的安装与部署](http://www.macrozheng.com/#/deploy/mall_deploy_web);
- `ELK`日志收集系统的搭建请参考：[SpringBoot应用整合ELK实现日志收集](http://www.macrozheng.com/#/technology/mall_tiny_elk);
- 使用MinIO存储文件请参考：[前后端分离项目，如何优雅实现文件存储](http://www.macrozheng.com/#/technology/minio_use);
- 读写分离解决方案请参考：[你还在代码里做读写分离么，试试这个中间件吧](http://www.macrozheng.com/#/reference/gaea);
- 如果想使用`Consul`作为注册及配置中心的话请参考：[Spring Cloud Consul：服务治理与配置中心](http://www.macrozheng.com/#/cloud/consul);
- 如果想使用`Nacos`作为注册及配置中心的话请参考：[Spring Cloud Alibaba：Nacos 作为注册中心和配置中心使用](http://www.macrozheng.com/#/cloud/nacos);
- `分布式事务`解决方案请参考：[使用Seata彻底解决Spring Cloud中的分布式事务问题！](http://www.macrozheng.com/#/cloud/seata)。

> Docker environment deployment

- Please install CentOS7.6 using a virtual machine.：[Virtual machine installation and use of Linux，It's enough to watch this article！](https://github.com/macrozheng/mall-learning/blob/master/docs/reference/linux_install.md)
- Please refer to the installation of Docker environment：[Essential Docker commands for developers](https://github.com/macrozheng/mall-learning/blob/master/docs/reference/docker.md)；
- Please refer to this project Docker image build：[Building Docker images for SpringBoot applications with Maven plugin](https://github.com/macrozheng/mall-learning/blob/master/docs/reference/docker_maven.md)；
- Please refer to the deployment of this project under Docker container.：[mall-swarm deployment in Linux environment（Based on Docker container）](https://github.com/macrozheng/mall-learning/blob/master/docs/deploy/mall_swarm_deploy_docker.md)。
- This project uses Jenkins to automate：[Automated deployment under microservice architecture，Use Jenkins to achieve！](https://github.com/macrozheng/mall-learning/blob/master/docs/deploy/mall_swarm_deploy_jenkins.md)

## Running effect display

- Registry console information：

![](./document/resource/mall_swarm_linux_07.png)

- Monitoring Center Application Information：

![](./document/resource/mall_swarm_linux_08.png)

![](./document/resource/mall_swarm_linux_09.png)

- Visual container management：

![](./document/resource/mall_swarm_linux_02.png)

![](./document/resource/mall_swarm_linux_04.png)

## the public

Mall project full set of learning tutorials in series，**Follow the public**Get it the first time。

Add WeChat group communication，the public background reply**Plus group**Just fine.

![the public picture](http://macro-oss.oss-cn-shenzhen.aliyuncs.com/mall/banner/qrcode_for_macrozheng_258.jpg)

## license

[Apache License 2.0](https://github.com/macrozheng/mall-swarm/blob/master/LICENSE)

Copyright (c) 2018-2020 macrozheng